import pytest
from pages.login_page import LoginPage
from pages.inventory_page import InventoryPage

class TestInventory:
    '''
    ????? ?????? ???? ????????
    '''
    
    def test_add_product_to_cart(self, driver, base_url):
        '''
        TC-004: ?????? ?? ????? ???? ?????
        '''
        # ????? ?????? ?????
        login_page = LoginPage(driver)
        login_page.open(base_url)
        login_page.enter_username('standard_user')
        login_page.enter_password('secret_sauce')
        login_page.click_login()
        
        # ???????? ????? ????????
        inventory_page = InventoryPage(driver)
        assert inventory_page.get_title() == 'Products'
        
        # ????? ???? ?????
        inventory_page.add_product_to_cart()
        
        # ?????? ??? ??? ???????? (?? ?????? ????)
        cart_count = inventory_page.get_cart_count()
        assert cart_count == '1', f'Expected cart count 1, got {cart_count}'
